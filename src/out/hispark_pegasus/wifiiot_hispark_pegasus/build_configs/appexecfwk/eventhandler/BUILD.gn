# import("//build/ohos.gni")
# import("//build/ohos_var.gni")
import("//build/ohos/ohos_kits.gni")
import("//build/ohos/ohos_part.gni")
import("//build/ohos/ohos_test.gni")

ohos_part("eventhandler") {
  subsystem_name = "appexecfwk"
  module_list = [
    "//foundation/appexecfwk/standard/interfaces/innerkits:innerkits_target",
    "//foundation/appexecfwk/standard/interfaces/innerkits/napi:napi_packages",
  ]
  origin_name = "eventhandler"
  variant = "phone"
}

ohos_inner_kits("eventhandler_inner_kits") {
  sdk_libs = [
    {
      type = "so"
      name = "//foundation/appexecfwk/standard/interfaces/innerkits/libeventhandler:libeventhandler"
      header = {
        header_files = [
          "event_handler_errors.h",
          "event_handler.h",
          "event_queue.h",
          "event_runner.h",
          "inner_event.h",
          "file_descriptor_listener.h",
          "native_implement_eventhandler.h",
        ]
        header_base = "//foundation/appexecfwk/standard/interfaces/innerkits/libeventhandler/include"
      }
    },
    {
      type = "so"
      name = "//foundation/appexecfwk/standard/interfaces/innerkits/eventhandler_native:eventhandler_native"
      header = {
        header_files = [ "native_interface_eventhandler.h" ]
        header_base = "//foundation/appexecfwk/standard/interfaces/innerkits/eventhandler_native/eventhandler"
      }
    },
  ]
  part_name = "eventhandler"
  origin_name = "eventhandler"
  variant = "phone"
}

ohos_part_test("eventhandler_test") {
  testonly = true
  test_packages = [
    "//foundation/appexecfwk/standard/libs/libeventhandler/test:unittest",
    "//foundation/appexecfwk/standard/libs/test:moduletest",
    "//foundation/appexecfwk/standard/test/systemtest/common/ems:systemtest_ems",
  ]
  deps = [ ":eventhandler" ]
  part_name = "eventhandler"
  subsystem_name = "appexecfwk"
}
